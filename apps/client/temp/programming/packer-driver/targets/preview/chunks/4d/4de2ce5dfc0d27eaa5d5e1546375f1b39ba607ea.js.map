{"version":3,"sources":["file:///C:/Users/ctwl/Downloads/cocos-nodejs-io-game-start-demo-master/apps/client/assets/Scripts/Entity/Weapon/WeaponManager.ts"],"names":["_decorator","instantiate","DataManager","EntityTypeEnum","EntityManager","EntityStateEnum","WeaponStateMachine","ccclass","property","WeaponManager","__body","__anchor","__point","init","data","node","getChildByName","fsm","addComponent","type","state","Idle","prefeb","Instance","prefabMap","get","Weapon1","weapon","setParent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAMAC,MAAAA,W,OAAAA,W;;AALFC,MAAAA,W;;AACEC,MAAAA,c,iBAAAA,c;;AAEAC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,e,iBAAAA,e;;AAEAC,MAAAA,kB,iBAAAA,kB;;;;;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;+BAGjBS,a,WADZF,OAAO,CAAC,eAAD,C,gBAAR,MACaE,aADb;AAAA;AAAA,0CACiD;AAAA;AAAA;AAAA,eACrCC,MADqC,GACtB,IADsB;AAAA,eAErCC,QAFqC,GAEpB,IAFoB;AAAA,eAGrCC,OAHqC,GAGrB,IAHqB;AAAA;;AAK7CC,QAAAA,IAAI,CAACC,IAAD,EAAe;AACf,eAAKJ,MAAL,GAAc,KAAKK,IAAL,CAAUC,cAAV,CAAyB,MAAzB,CAAd;AACA,eAAKL,QAAL,GAAgB,KAAKD,MAAL,CAAYM,cAAZ,CAA2B,QAA3B,CAAhB;AACA,eAAKN,MAAL,GAAc,KAAKK,IAAL,CAAUC,cAAV,CAAyB,MAAzB,CAAd;AAEA,eAAKC,GAAL,GAAW,KAAKC,YAAL;AAAA;AAAA,uDAAX;AACA,eAAKD,GAAL,CAASJ,IAAT,CAAcC,IAAI,CAACK,IAAnB;AAEA,eAAKC,KAAL,GAAa;AAAA;AAAA,kDAAgBC,IAA7B;AACA,cAAMC,MAAM,GAAG;AAAA;AAAA,0CAAYC,QAAZ,CAAqBC,SAArB,CAA+BC,GAA/B,CAAmC;AAAA;AAAA,gDAAeC,OAAlD,CAAf;AACA,cAAMC,MAAM,GAAG1B,WAAW,CAACqB,MAAD,CAA1B;AACAK,UAAAA,MAAM,CAACC,SAAP,CAAiB,KAAKb,IAAtB;AAEH;;AAlB4C,O","sourcesContent":["import { _decorator, Component, input } from 'cc';\r\nimport DataManager from \"../../Global/DataManager\";\r\nimport { EntityTypeEnum, InputTypeEnum } from '../../Common/Enum';\r\nimport { IActor } from '../../Common/State';\r\nimport { EntityManager } from '../../Base/EntityManager';\r\nimport { EntityStateEnum } from '../../Enum';\r\nimport { instantiate } from 'cc';\r\nimport { WeaponStateMachine } from './WeaponStateMachine';\r\nimport { Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('WeaponManager')\r\nexport class WeaponManager extends EntityManager {\r\n    private __body: Node = null;\r\n    private __anchor: Node = null;\r\n    private __point: Node = null;\r\n\r\n    init(data: IActor) {\r\n        this.__body = this.node.getChildByName('body');\r\n        this.__anchor = this.__body.getChildByName('anchor');\r\n        this.__body = this.node.getChildByName('body');\r\n        \r\n        this.fsm = this.addComponent(WeaponStateMachine);\r\n        this.fsm.init(data.type);\r\n\r\n        this.state = EntityStateEnum.Idle;\r\n        const prefeb = DataManager.Instance.prefabMap.get(EntityTypeEnum.Weapon1);\r\n        const weapon = instantiate(prefeb);\r\n        weapon.setParent(this.node);\r\n        \r\n    }\r\n}"]}